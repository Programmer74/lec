% Made by: KorG
% vim: ft=tex cc=79 ts=3 sw=3 et
\documentclass[hyperref={unicode=true}]{beamer}
\usepackage[T2A]{fontenc}       % fonts
\usepackage[utf8]{inputenc}     % UTF-8
\usepackage[english,russian]{babel}     % russian
\usepackage{cmap}               % russian search in pdf
\usepackage{droid}		        % Droid font
\usepackage{float}		        % essential for [H]
\usepackage{indentfirst}        % first string indention
\usepackage{graphicx}           % graphics
\usepackage{ltxtable}           % tables
\usepackage{amsmath}            % math
\usepackage{nccmath}            % math
\usepackage{amsfonts}           % math fonts
\usepackage{amssymb}            % math symb
\usepackage{color}
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.9}
\usepackage{multirow}
\usepackage{tabularx}
\usepackage{placeins}
\usepackage{totcount}
\usepackage{soul}               % \so{} & \ul{} - source and underline
\usepackage{soulutf8}           % UTF-8 for soul
\usepackage{verbatim}           % \verb{} and verbatim environment
\usepackage{listings}           % source code `bl
\usepackage{totcount}
\usepackage{pbox}
\usepackage{rotating}
\lstset{
   escapeinside={\#@}{@},
   extendedchars=\true,
   numbers=none,
   inputencoding=utf8,
   keepspaces=true,
   basicstyle=\large\ttfamily,
   backgroundcolor=\color{light-gray},
   tabsize=3,
   breaklines=true,
   postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{
      \color{red}\hookrightarrow\space}
   }
}

\usebackgroundtemplate{
   \begin{picture}(0,260)
      \minipage{0.9\textwidth}
      \includegraphics[width=0.6\textwidth]{ifmo.jpg} %TODO check file path
      \endminipage
      \hfill \hspace*{60px}
      \ifnum\value{framenumber}>1 \Large \insertpagenumber \fi
   \end{picture}
}

\setbeamertemplate{navigation symbols}{}

\title{\LARGE Lecture notes on \\ shell-scripting \\
   and perl language \vspace{2em}}
\author{Zhmylev Sergei \vspace{-1em}}
\date{Autumn 2019}

\begin{document} \Large

\begin{frame} \titlepage \end{frame}

\regtotcounter{section}
\setbeamertemplate{section in toc}{\inserttocsection}
\setbeamercolor{section in toc}{fg=black}
% \begin{frame}[allowframebreaks]{Структура курса}
% \fontsize{1em}{-1em}\selectfont
% \vspace{1em} \tableofcontents[sections=1-8] \vspace{2em}
% \ifnum\totvalue{section}>8 \framebreak
% \vspace{1em} \tableofcontents[sections=9-16]  \vspace{2em} \fi
% \ifnum\totvalue{section}>16 \framebreak
% \vspace{1em} \tableofcontents[sections=17-24] \vspace{2em} \fi
% \ifnum\totvalue{section}>24 \framebreak
% \vspace{1em} \tableofcontents[sections=25-32] \vspace{2em} \fi
% \ifnum\totvalue{section}>32 \framebreak
% \vspace{1em} \tableofcontents[sections=33-40] \vspace{2em} \fi
% \ifnum\totvalue{section}>40 \framebreak
% \vspace{1em} \tableofcontents[sections=41-48] \vspace{2em} \fi
% \ifnum\totvalue{section}>48 \framebreak
% \vspace{1em} \tableofcontents[sections=49-56] \vspace{2em} \fi
% \ifnum\totvalue{section}>56 \framebreak
% \vspace{1em} \tableofcontents[sections=57-64] \vspace{2em} \fi
% \ifnum\totvalue{section}>64 \framebreak
% \vspace{1em} \tableofcontents[sections=65-72] \vspace{2em} \fi
% \ifnum\totvalue{section}>72 \framebreak
% \vspace{1em} \tableofcontents[sections=73-80] \vspace{2em} \fi
% \ifnum\totvalue{section}>80 \framebreak
% \vspace{1em} \tableofcontents[sections=81-88] \vspace{2em} \fi
% \ifnum\totvalue{section}>88 \framebreak
% \vspace{1em} \tableofcontents[sections=89-96] \vspace{2em} \fi
% \ifnum\totvalue{section}>96 \framebreak
% \vspace{1em} \tableofcontents[sections=97-104] \vspace{2em} \fi
% \end{frame}

\newcommand{\iframe}[1]{
\section{#1}\begin{frame}[fragile]{#1}\par\vspace{-1em}
}
\newcommand{\pframe}[1]{
\begin{frame}[fragile]{#1}\par\vspace{-1em}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{slides/org} % организационные вопросы
\input{slides/refs} % полезные ссылки
\input{slides/interaction} % взаимодействие с системой
\input{slides/philosophy} % философия UNIX
\input{slides/interpretator} % командный интерпретатор
\input{slides/shells} % разновидности интерпретаторов
\input{slides/script} % командный файл
\input{slides/comments} % комментарии
\input{slides/filesthreads} % Файлы, потоки, ядро
\input{slides/stdio} % потоки ввода-вывода
% \input{slides/environment} % окружение
\input{slides/lexical} % лексическая структура
% \input{slides/quoting} % экранирование
\input{slides/sh-algorithm} % алгоритм разбора команды
% \input{slides/keywords} % ключевые слова
% \againframe<2>{sh-algorithm}
% \input{slides/alias} % псевдонимы
% \againframe<3>{sh-algorithm}
% \input{slides/simple_cmd} % простая команда
% %\againframe<4>{sh-algorithm}
% \againframe<5>{sh-algorithm}
% \input{slides/stdio} % потоки ввода-вывода
% \input{slides/redir} % перенаправление ввода-вывода
% \againframe<6>{sh-algorithm}
% \input{slides/vars} % переменные и параметры
% \againframe<7>{sh-algorithm}
% \againframe<8>{sh-algorithm}

\iframe{Команды: утилиты, функции, ...}
\end{frame}

\iframe{Перечень часто используемых утилит}
\end{frame}

\iframe{Переменные окружения}
\end{frame}

\iframe{Переменные интерпретатора}
\end{frame}

\iframe{Ввод-вывод}
\end{frame}

\iframe{Оператор присваивания}
\end{frame}

\iframe{Типы данных: shell}
\end{frame}

\iframe{Типы данных: perl}
\end{frame}

\iframe{Математические операции}
\end{frame}

\iframe{Группировка операций}
\end{frame}

\iframe{Последовательное выполнение: $\&\&, ||, ...$}
\end{frame}

\iframe{Условные операторы $if, then, elif, else, fi$}
\end{frame}

\iframe{Оператор $case$}
\end{frame}

\iframe{Паттерн-матчинг и глоб-джокеры}
\end{frame}

\iframe{Проверка статуса файлов}
\end{frame}

\iframe{Операторы $test, [, [[, !$}
\end{frame}

\iframe{Операторы цикла $while, for, ...$}
\end{frame}

\iframe{Оператор $select$}
\end{frame}

\iframe{Опции интерпретаторов $set$}
\end{frame}

\iframe{Переменные Prompt String}
\end{frame}

\iframe{Работа с аргументами скрипта $\$@,\$*,shift$}
\end{frame}

\iframe{Функции}
\end{frame}

\iframe{Command Substitution}
\end{frame}

\iframe{Команды $exec, eval$}
\end{frame}

\iframe{Перенаправление ввода-вывода, Here-document}
\end{frame}

\iframe{Parameter Expansion и стандартные значения}
\end{frame}

\iframe{Переменная IFS}
\end{frame}

\iframe{(t)csh: история, где встречается, концептуальные
   и синтаксические отличия}
\end{frame}

\input{slides/thanks} % благодарности
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usebackgroundtemplate{}
\begin{frame}[fragile]
   \vspace{3em}
   \centering \LARGE Спасибо за внимание

   \vspace{4em}
   \begin{tabular}{c}
      \begin{lstlisting}[basicstyle=\tiny]
      # perl '-es!!),-#(-.?{<>-8#=..#<-*}>;*7-86)!;y!#()-?{}!\x20/`-v;<!;s++$_+ee'
      \end{lstlisting} 
   \end{tabular}
\end{frame}

\end{document}
